{% require_css %}
<style>
  {% scope_css %}
  .active, .dot:hover {
    background-color: #717171;
  }
  {% end_scope_css %}
</style>
{% end_require_css %}
<div class="container-po">
  <div class="cam-ine-{{ module.column_layout }} {{ module.text_align }}">
    <div class="slideshow_container">
      {% for item in module.slider_image %}
      <div class="slider_image fadein">
        {% if item.src %}
        {% set sizeAttrs = 'width="{{ item.width|escape_attr }}" height="{{ item.height|escape_attr }}"' %}
        {% if item.size_type == 'auto' %}
        {% set sizeAttrs = 'width="{{ item.width|escape_attr }}" height="{{ item.height|escape_attr }}" style="max-width: 100%; height: auto;"' %}
        {% elif item.size_type == 'auto_custom_max' %}
        {% set sizeAttrs = 'width="{{ item.max_width|escape_attr }}" height="{{ item.max_height|escape_attr }}" style="max-width: 100%; height: auto;"' %}
        {% endif %}
        {% set loadingAttr = item.loading != 'disabled' ? 'loading="{{ item.loading|escape_attr }}"' : '' %}
        <img src="{{ item.src|escape_url }}" alt="{{ item.alt|escape_attr }}" {{ loadingAttr }} {{ sizeAttrs }}>
        {% endif %}
      </div>
      {% endfor %}
      <a class="prev_btn" onclick="plusCount(-1)">
        <svg width="11" height="10" viewBox="0 0 11 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.60317 5.65855H2.24723L5.46093 8.87224C5.71776 9.12908 5.71776 9.55054 5.46093 9.80738C5.2041 10.0642 4.78921 10.0642 4.53238 9.80738L0.192572 5.46757C-0.0642614 5.21073 -0.0642614 4.79585 0.192572 4.53902L4.5258 0.192624C4.78263 -0.0642081 5.19751 -0.0642081 5.45434 0.192624C5.71118 0.449457 5.71118 0.86434 5.45434 1.12117L2.24723 4.34146H9.60317C9.96537 4.34146 10.2617 4.6378 10.2617 5C10.2617 5.3622 9.96537 5.65855 9.60317 5.65855Z" fill="#4D463F"/>
        </svg>
      </a>
      <a class="next_btn" onclick="plusCount(1)">
        <svg width="11" height="10" viewBox="0 0 11 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0.658545 5.65855H8.01449L4.80079 8.87224C4.54396 9.12908 4.54396 9.55054 4.80079 9.80738C5.05762 10.0642 5.47251 10.0642 5.72934 9.80738L10.0691 5.46757C10.326 5.21073 10.326 4.79585 10.0691 4.53902L5.73592 0.192624C5.47909 -0.0642081 5.06421 -0.0642081 4.80738 0.192624C4.55054 0.449457 4.55054 0.86434 4.80738 1.12117L8.01449 4.34146H0.658545C0.296345 4.34146 0 4.6378 0 5C0 5.3622 0.296345 5.65855 0.658545 5.65855Z" fill="#4D463F"/>
        </svg>
      </a>
    </div>
    <div class="cam-tsf">
      <span>{{ module.texte_service }}</span>
      <h2>
        {{ module.texte_nous }}
      </h2> 
      <p>
        {{ module.texte_enrichi_pos }}
      </p>
      {% if module.button_hide_and_show %}
      <div class="p3-learn__cta">
        {% set href = module.learn_more_cta.learn_more_link.url.href %}
        {% if module.learn_more_cta.learn_more_link.url.type is equalto "EMAIL_ADDRESS" %}
        {% set href = "mailto:" + href %}
        {% endif %}
        <a href="{{ href }}" class="hs-button primary p3-learn__cta-btn-{{ module.learn_more_cta.cta_style }}"
           {% if module.learn_more_cta.learn_more_link.open_in_new_tab %}target="_blank"{% endif %}
           {% if module.learn_more_cta.learn_more_link.rel %}rel="{{ module.learn_more_cta.learn_more_link.rel }}"{% endif %}
           >
          {{ module.learn_more_cta.learn_more_text }}<svg xmlns="http://www.w3.org/2000/svg" width="11" height="10" viewBox="0 0 11 10" fill="#fd560a">
          <path d="M0.902685 5.65855H8.25863L5.04493 8.87224C4.7881 9.12908 4.7881 9.55054 5.04493 9.80738C5.30176 10.0642 5.71665 10.0642 5.97348 9.80738L10.3133 5.46757C10.5701 5.21073 10.5701 4.79585 10.3133 4.53902L5.98006 0.192624C5.72323 -0.0642081 5.30835 -0.0642081 5.05152 0.192624C4.79468 0.449457 4.79468 0.86434 5.05152 1.12117L8.25863 4.34146H0.902685C0.540486 4.34146 0.244141 4.6378 0.244141 5C0.244141 5.3622 0.540486 5.65855 0.902685 5.65855Z" fill=""/>
          </svg>
        </a>
      </div>
      <div class="p3-learn__cta">
        {% set href = module.post_learn_more_cta.learn_more_link.url.href %}
        {% if module.post_learn_more_cta.learn_more_link.url.type is equalto "EMAIL_ADDRESS" %}
        {% set href = "mailto:" + href %}
        {% endif %}
        <a href="{{ href }}" class="hs-button primary p3-learn__cta-btn-{{ module.post_learn_more_cta.cta_style }}"
           {% if module.post_learn_more_cta.learn_more_link.open_in_new_tab %}target="_blank"{% endif %}
           {% if module.post_learn_more_cta.learn_more_link.rel %}rel="{{ module.post_learn_more_cta.learn_more_link.rel }}"{% endif %}
           >
          {{ module.post_learn_more_cta.learn_more_text }}<svg xmlns="http://www.w3.org/2000/svg" width="11" height="10" viewBox="0 0 11 10" fill="#fd560a">
          <path d="M0.902685 5.65855H8.25863L5.04493 8.87224C4.7881 9.12908 4.7881 9.55054 5.04493 9.80738C5.30176 10.0642 5.71665 10.0642 5.97348 9.80738L10.3133 5.46757C10.5701 5.21073 10.5701 4.79585 10.3133 4.53902L5.98006 0.192624C5.72323 -0.0642081 5.30835 -0.0642081 5.05152 0.192624C4.79468 0.449457 4.79468 0.86434 5.05152 1.12117L8.25863 4.34146H0.902685C0.540486 4.34146 0.244141 4.6378 0.244141 5C0.244141 5.3622 0.540486 5.65855 0.902685 5.65855Z" fill=""/>
          </svg>
        </a>
      </div>
      {% endif %}
    </div>
  </div>
</div>

{% require_css %}
<style>
  {% scope_css %}
  .cam-tsf h2{
    color: {{ module.title_color.color }};
    {{ module.title_color.opacity }}
  }
  {% end_scope_css %}
</style>
{% end_require_css %}

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
{% require_js %}
<script>
  let slideImg = 1;
  showSlides(slideImg);

  function plusCount(n) {
    showSlides(slideImg += n);
  }

  function currentSlide(n) {
    showSlides(slideImg = n);
  }

  function showSlides(n) {
    let i;
    let slidesVal = document.getElementsByClassName("slider_image");
    //     let dots = document.getElementsByClassName("dot");
    if (n > slidesVal.length) {slideImg = 1}    
    if (n < 1) {slideImg = slidesVal.length}
    for (i = 0; i < slidesVal.length; i++) {
      slidesVal[i].style.display = "none";  
    }
    //     for (i = 0; i < dots.length; i++) {
    //       dots[i].className = dots[i].className.replace(" active", "");
    //     }
    slidesVal[slideImg-1].style.display = "block";  
    //     dots[slideImg-1].className += " active";
  }
</script>
{% end_require_js %}